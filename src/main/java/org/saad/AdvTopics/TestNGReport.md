Reporting is an important aspect of test automation as it provides insights into the test results, helping developers, testers, and stakeholders understand the test outcomes clearly. In TestNG, reporting can be done in multiple ways, including built-in reports, custom reports, and integration with third-party reporting tools.

Let's go through the key aspects of **TestNG reporting** and **how to use it effectively** with examples.

### **1. Built-in TestNG Reports**

TestNG provides built-in reports that generate **HTML** and **XML** formats. After running the tests, these reports are generated automatically.

#### **How to Use Built-in TestNG Reports**

Once you execute your tests via **TestNG** (either through IDE, Maven, or command line), TestNG will generate the following reports in the `test-output` folder:

1. **index.html**: The default **HTML report** generated by TestNG, which provides a summary of all test executions, including passed, failed, and skipped tests.

2. **emailable-report.html**: A more detailed **HTML report** that you can email to stakeholders, with detailed test execution information, including test method names, execution time, and any failed test details.

3. **testng-results.xml**: An **XML** file that contains detailed execution results in a machine-readable format, which can be used for further processing or integration with external tools.

You don't need to do anything special for these reports to be generated. Simply run the tests, and TestNG will generate them automatically.

### **2. Custom TestNG Reports**

You might want to create **custom reports** to include additional information or format the report in a specific way. For this, you can implement **listeners** in TestNG to hook into the execution process and capture the test results.

#### **How to Implement Custom Reports Using TestNG Listeners**

TestNG provides several listeners to hook into the test lifecycle, such as:

- **`ITestListener`**: A listener to track the progress of tests and their results.
- **`IRetryAnalyzer`**: A listener to retry failed tests.
- **`ITestResult`**: Used to capture the results of each test method.

**Example**: Implementing a custom listener to generate a custom report.

```java
package com.example.listeners;

import org.testng.ITestListener;
import org.testng.ITestResult;

public class CustomListener implements ITestListener {

    @Override
    public void onTestStart(ITestResult result) {
        System.out.println("Test Started: " + result.getName());
    }

    @Override
    public void onTestSuccess(ITestResult result) {
        System.out.println("Test Passed: " + result.getName());
    }

    @Override
    public void onTestFailure(ITestResult result) {
        System.out.println("Test Failed: " + result.getName());
        // You can add custom logic here to log failed test results or take a screenshot
    }

    @Override
    public void onTestSkipped(ITestResult result) {
        System.out.println("Test Skipped: " + result.getName());
    }

    @Override
    public void onFinish() {
        System.out.println("Test execution finished.");
    }

    @Override
    public void onStart() {
        System.out.println("Test execution started.");
    }
}
```

**How to Attach the Listener to Your TestNG Suite**

Once the listener is created, you need to add it to your `testng.xml` file.

```xml
<suite name="Test Suite" verbose="1">
    <listeners>
        <listener class-name="com.example.listeners.CustomListener"/>
    </listeners>

    <test name="Test">
        <classes>
            <class name="com.example.tests.TestClass"/>
        </classes>
    </test>
</suite>
```

This listener will now log the test execution status to the console (or you can modify it to save logs to a file, generate custom reports, etc.).

### **3. Third-Party Reporting Integrations (ExtentReports)**

For more advanced reporting features like graphical representations, screenshots, and detailed test logs, you can integrate **third-party reporting tools** like **ExtentReports** with TestNG.

#### **How to Integrate ExtentReports with TestNG**

1. **Add ExtentReports Dependency**

If you're using **Maven**, add the ExtentReports dependency to your `pom.xml`:

```xml
<dependency>
    <groupId>com.aventstack</groupId>
    <artifactId>extentreports</artifactId>
    <version>5.0.9</version>
</dependency>
```

2. **Implementing ExtentReports**

Create an **ExtentReports** object and configure it to generate a custom report during the test execution.

```java
package com.example.tests;

import com.aventstack.extentreports.ExtentReports;
import com.aventstack.extentreports.ExtentTest;
import com.aventstack.extentreports.reporter.ExtentHtmlReporter;
import org.testng.annotations.AfterClass;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;

public class ExtentReportsExample {

    ExtentReports extent;
    ExtentTest test;

    @BeforeClass
    public void setup() {
        // Initialize ExtentReports
        ExtentHtmlReporter htmlReporter = new ExtentHtmlReporter("extent.html");
        extent = new ExtentReports();
        extent.attachReporter(htmlReporter);
    }

    @Test
    public void testLogin() {
        test = extent.createTest("Test Login");

        // Example Selenium WebDriver test action
        System.out.println("Executing test for login functionality");
        test.pass("Login test passed");

        // You can also add screenshots here in case of failure
    }

    @AfterClass
    public void tearDown() {
        // Flush the report at the end of test execution
        extent.flush();
    }
}
```

- **`ExtentHtmlReporter`**: This reporter generates an HTML report. You can customize it to create different report formats.
- **`extent.createTest()`**: This creates a new test node in the report for each test method.

After running the tests, **ExtentReports** generates a report that includes screenshots (if added), test logs, and results, all in a beautiful HTML format.

### **4. Generating and Viewing Reports**

Once you have integrated TestNG's built-in reports, custom listeners, or third-party tools like ExtentReports:

- You can open the generated **`index.html`** or **`emailable-report.html`** for **TestNG's built-in report**.
- For **ExtentReports**, open the **`extent.html`** file generated in the project root folder.

---

### **Summary of Reporting in TestNG:**

- **Built-in TestNG Reports**: TestNG automatically generates **HTML** and **XML** reports in the `test-output` folder.
- **Custom Reporting with Listeners**: You can create custom listeners to log additional test information or perform custom actions like taking screenshots on failures.
- **Advanced Reporting with ExtentReports**: You can integrate **ExtentReports** to create beautiful, detailed reports with test execution logs, screenshots, and graphs.

These reporting mechanisms will allow you to have a **clear view of test execution** and easily share results with stakeholders or log test results for future reference.

Let me know if you need any further details on this!